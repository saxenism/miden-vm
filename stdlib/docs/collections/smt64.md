A key-value map with single-element keys and 4-element values.<br />Current implementation is a thin wrapper over a simple Sparse Merkle Tree of depth 64. In the<br />future, this will be replaced with a compact Sparse Merkle Tree implementation.
## std::collections::smt64
| Procedure | Description |
| ----------- | ------------- |
| get | Returns the value located under the specified key in the Sparse Merkle Tree defined by the<br /><br />specified root.<br /><br />If no values had been previously inserted under the specified key, an empty word (i.e.,<br /><br />[ZERO; 4]) is returned.<br /><br />Inputs:<br /><br />Operand stack: [key, ROOT, ...]<br /><br />Outputs:<br /><br />Operand stack: [VALUE, ROOT, ...]<br /><br />Fails if the tree with the specified root does not exits in the VM's advice provider. |
| insert | Inserts the specified value under the specified key in a Sparse Merkle Tree defined by the<br /><br />specified root. If the insert is successful, the old value located under the specified key<br /><br />is returned via the stack.<br /><br />This procedure assumes that VALUE is a non-empty word (i.e., not [ZERO; 4]).<br /><br />Inputs:<br /><br />Operand stack: [VALUE, key, ROOT, ...]<br /><br />Outputs:<br /><br />Operand stack: [OLD_VALUE, NEW_ROOT, ...]<br /><br />Fails if:<br /><br />- The tree with the specified root does not exits in the VM's advice provider.<br /><br />- The provided value is an empty word. |
| set | Inserts the specified value under the specified key in a Sparse Merkle Tree defined by the<br /><br />specified root. If the insert is successful, the old value located under the specified key<br /><br />is returned via the stack.<br /><br />If the VALUE is an empty word (i.e., [ZERO; 4]), the new state of the tree is guaranteed to<br /><br />be equivalent to the state as if the updated value was never inserted.<br /><br />Inputs:<br /><br />Operand stack: [VALUE, key, ROOT, ...]<br /><br />Outputs:<br /><br />Operand stack: [OLD_VALUE, NEW_ROOT, ...]<br /><br />Fails if the tree with the specified root does not exits in the VM's advice provider. |
